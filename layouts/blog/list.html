{{ define "main" }}
<section id="blog" class="pt-24 md:pt-28 scroll-mt-24 md:scroll-mt-28 flex-1">
  <h2 class="text-center uppercase text-gray-600 font-light text-2xl mb-6">Blog</h2>

  <!-- Tag filter bar -->
  <div class="max-w-[800px] mx-auto px-8 mb-4 relative z-10">
    <div class="flex flex-wrap gap-2">
      {{ with .Site.Taxonomies.tags }}
        {{ range $name, $_ := . }}
          {{ $term := site.GetPage (printf "/tags/%s" $name) }}
          {{ if $term }}
            <a class="tag-badge text-sm relative z-10" href="{{ $term.RelPermalink }}">#{{ $name }}</a>
          {{ end }}
        {{ end }}
      {{ end }}
    </div>
  </div>

  <div id="posts" class="max-w-[800px] mx-auto px-8 mb-20">
    <div class="border-t border-black"></div>
    {{ range .Pages.ByDate.Reverse }}
      <a href="{{ .RelPermalink }}" class="flex items-center gap-10 py-6 border-b border-black">
        <span class="shrink-0 w-24 text-base text-gray-700">{{ .Date.Format "2006.01" }}</span>
        <span class="flex-1 truncate text-[#333] text-base">{{ .Title }}</span>
        <span class="shrink-0 flex items-center gap-2 text-sm text-gray-900 relative z-10">
          {{ range .Params.tags }}<span class="tag-badge relative z-10">{{ . }}</span>{{ end }}
        </span>
      </a>
    {{ end }}
  </div>
</section>
{{ end }}